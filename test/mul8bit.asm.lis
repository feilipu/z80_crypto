1     0000              MODULE mul8bit_asm
2     0000              LINE 0, "test/mul8bit.asm"
0     0000              
1     0000              ; 8 x 8 to 16 bit multiplication
2     0000              ; In: B, C multiplicands
3     0000              ; Out: HL product
4     0000              ; Pollutes: AF, F', BC, DE
5     0000              
6     0000              INCLUDE "config_rc2014_private.inc"
1     0000              
2     0000              
3     0000              
4     0000              
5     0000              IFNDEF __CONFIG_Z88DK_INC_
6     0000              defc   __CONFIG_Z88DK_INC_ = 1
7     0000              
8     0000              ; Automatically Generated at Library Build Time
9     0000              
10    0000              
11    0000              
12    0000              
13    0000              
14    0000              
15    0000              
16    0000              
17    0000              
18    0000              
19    0000              
20    0000              
21    0000              
22    0000              defc __Z88DK = 1992
23    0000              
24    0000              
25    0000              
26    0000              
27    0000              
28    0000              
29    0000              
30    0000              
31    0000              
32    0000              
33    0000              
34    0000              
35    0000              defc __RC2014 = 1
36    0000              
37    0000              defc __CPU_CLOCK = 7372800
38    0000              
39    0000              defc __IO_DIO_PORT = 0x00
40    0000              defc __IO_CF_PORT = 0x10
41    0000              defc __IO_PIO_PORT_BASE = 0x20
42    0000              defc __IO_PROM_RESET = 0x30
43    0000              defc __IO_PROM_TOGGLE = 0x38
44    0000              defc __IO_LUT_PORT_BASE = 0x40
45    0000              defc __IO_ACIA_PORT_BASE = 0x80
46    0000              defc __IO_SIO_PORT_BASE = 0x80
47    0000              defc __IO_SIO_PORT_OFFSET_A = 0x00
48    0000              defc __IO_SIO_PORT_OFFSET_B = 0x02
49    0000              defc __IO_SIO_PORT_OFFSET_C = 0x00
50    0000              defc __IO_SIO_PORT_OFFSET_D = 0x01
51    0000              
52    0000              
53    0000              
54    0000              
55    0000              
56    0000              
57    0000              
58    0000              
59    0000              
60    0000              
61    0000              
62    0000              
63    0000              defc __Z80 = 0x02
64    0000              
65    0000              defc __Z80_NMOS = 0x01
66    0000              defc __Z80_CMOS = 0x02
67    0000              
68    0000              defc __CPU_INFO = 0x00
69    0000              defc __CPU_INFO_ENABLE_SLL = 0x01
70    0000              
71    0000              
72    0000              
73    0000              
74    0000              
75    0000              
76    0000              
77    0000              
78    0000              
79    0000              
80    0000              
81    0000              
82    0000              defc __CLIB_OPT_MULTITHREAD = 0x00
83    0000              
84    0000              defc __CLIB_OPT_MULTITHREAD_LOCK_HEAPS = 0x01
85    0000              defc __CLIB_OPT_MULTITHREAD_LOCK_FILES = 0x02
86    0000              defc __CLIB_OPT_MULTITHREAD_LOCK_FLIST = 0x04
87    0000              defc __CLIB_OPT_MULTITHREAD_LOCK_FDTBL = 0x08
88    0000              defc __CLIB_OPT_MULTITHREAD_LOCK_FDSTR = 0x10
89    0000              
90    0000              defc __CLIB_OPT_IMATH = 0
91    0000              
92    0000              defc __CLIB_OPT_IMATH_FAST = 0x0f
93    0000              
94    0000              defc __CLIB_OPT_IMATH_FAST_DIV_UNROLL = 0x01
95    0000              defc __CLIB_OPT_IMATH_FAST_DIV_LZEROS = 0x02
96    0000              defc __CLIB_OPT_IMATH_FAST_MUL_UNROLL = 0x04
97    0000              defc __CLIB_OPT_IMATH_FAST_MUL_LZEROS = 0x08
98    0000              defc __CLIB_OPT_IMATH_FAST_LIA = 0x80
99    0000              
100   0000              defc __CLIB_OPT_IMATH_SELECT = 0x00
101   0000              
102   0000              defc __CLIB_OPT_IMATH_SELECT_FAST_ASR = 0x01
103   0000              defc __CLIB_OPT_IMATH_SELECT_FAST_LSR = 0x02
104   0000              defc __CLIB_OPT_IMATH_SELECT_FAST_LSL = 0x04
105   0000              
106   0000              defc __CLIB_OPT_TXT2NUM = 0x04
107   0000              
108   0000              defc __CLIB_OPT_TXT2NUM_INT_BIN = 0x01
109   0000              defc __CLIB_OPT_TXT2NUM_INT_OCT = 0x02
110   0000              defc __CLIB_OPT_TXT2NUM_INT_DEC = 0x04
111   0000              defc __CLIB_OPT_TXT2NUM_INT_HEX = 0x08
112   0000              
113   0000              defc __CLIB_OPT_TXT2NUM_LONG_BIN = 0x10
114   0000              defc __CLIB_OPT_TXT2NUM_LONG_OCT = 0x20
115   0000              defc __CLIB_OPT_TXT2NUM_LONG_DEC = 0x40
116   0000              defc __CLIB_OPT_TXT2NUM_LONG_HEX = 0x80
117   0000              
118   0000              defc __CLIB_OPT_TXT2NUM_SELECT = 0x00
119   0000              
120   0000              defc __CLIB_OPT_TXT2NUM_SELECT_FAST_BIN = 0x01
121   0000              defc __CLIB_OPT_TXT2NUM_SELECT_FAST_OCT = 0x02
122   0000              defc __CLIB_OPT_TXT2NUM_SELECT_FAST_DEC = 0x04
123   0000              defc __CLIB_OPT_TXT2NUM_SELECT_FAST_HEX = 0x08
124   0000              
125   0000              defc __CLIB_OPT_NUM2TXT = 0x00
126   0000              
127   0000              defc __CLIB_OPT_NUM2TXT_INT_BIN = 0x01
128   0000              defc __CLIB_OPT_NUM2TXT_INT_OCT = 0x02
129   0000              defc __CLIB_OPT_NUM2TXT_INT_DEC = 0x04
130   0000              defc __CLIB_OPT_NUM2TXT_INT_HEX = 0x08
131   0000              
132   0000              defc __CLIB_OPT_NUM2TXT_LONG_BIN = 0x10
133   0000              defc __CLIB_OPT_NUM2TXT_LONG_OCT = 0x20
134   0000              defc __CLIB_OPT_NUM2TXT_LONG_DEC = 0x40
135   0000              defc __CLIB_OPT_NUM2TXT_LONG_HEX = 0x80
136   0000              
137   0000              defc __CLIB_OPT_NUM2TXT_SELECT = 0x00
138   0000              
139   0000              defc __CLIB_OPT_NUM2TXT_SELECT_FAST_BIN = 0x01
140   0000              defc __CLIB_OPT_NUM2TXT_SELECT_FAST_OCT = 0x02
141   0000              defc __CLIB_OPT_NUM2TXT_SELECT_FAST_DEC = 0x04
142   0000              defc __CLIB_OPT_NUM2TXT_SELECT_FAST_HEX = 0x08
143   0000              
144   0000              defc __CLIB_OPT_STDIO = 0x00
145   0000              
146   0000              defc __CLIB_OPT_STDIO_VALID = 0x01
147   0000              
148   0000              defc CHAR_CR = 13
149   0000              defc CHAR_LF = 10
150   0000              defc CHAR_BS = 8
151   0000              defc CHAR_ESC = 27
152   0000              defc CHAR_CAPS = 6
153   0000              defc CHAR_BELL = 7
154   0000              defc CHAR_CTRL_C = 3
155   0000              defc CHAR_CTRL_D = 4
156   0000              defc CHAR_CTRL_Z = 26
157   0000              defc CHAR_CURSOR_UC = 45
158   0000              defc CHAR_CURSOR_LC = 95
159   0000              defc CHAR_PASSWORD = 42
160   0000              
161   0000              defc __CLIB_OPT_PRINTF = 0x002ff6ff
162   0000              
163   0000              defc __CLIB_OPT_PRINTF_d = 0x00000001
164   0000              defc __CLIB_OPT_PRINTF_u = 0x00000002
165   0000              defc __CLIB_OPT_PRINTF_x = 0x00000004
166   0000              defc __CLIB_OPT_PRINTF_X = 0x00000008
167   0000              defc __CLIB_OPT_PRINTF_o = 0x00000010
168   0000              defc __CLIB_OPT_PRINTF_n = 0x00000020
169   0000              defc __CLIB_OPT_PRINTF_i = 0x00000040
170   0000              defc __CLIB_OPT_PRINTF_p = 0x00000080
171   0000              defc __CLIB_OPT_PRINTF_B = 0x00000100
172   0000              defc __CLIB_OPT_PRINTF_s = 0x00000200
173   0000              defc __CLIB_OPT_PRINTF_c = 0x00000400
174   0000              defc __CLIB_OPT_PRINTF_I = 0x00000800
175   0000              defc __CLIB_OPT_PRINTF_ld = 0x00001000
176   0000              defc __CLIB_OPT_PRINTF_lu = 0x00002000
177   0000              defc __CLIB_OPT_PRINTF_lx = 0x00004000
178   0000              defc __CLIB_OPT_PRINTF_lX = 0x00008000
179   0000              defc __CLIB_OPT_PRINTF_lo = 0x00010000
180   0000              defc __CLIB_OPT_PRINTF_ln = 0x00020000
181   0000              defc __CLIB_OPT_PRINTF_li = 0x00040000
182   0000              defc __CLIB_OPT_PRINTF_lp = 0x00080000
183   0000              defc __CLIB_OPT_PRINTF_lB = 0x00100000
184   0000              defc __CLIB_OPT_PRINTF_a = 0x00400000
185   0000              defc __CLIB_OPT_PRINTF_A = 0x00800000
186   0000              defc __CLIB_OPT_PRINTF_e = 0x01000000
187   0000              defc __CLIB_OPT_PRINTF_E = 0x02000000
188   0000              defc __CLIB_OPT_PRINTF_f = 0x04000000
189   0000              defc __CLIB_OPT_PRINTF_F = 0x08000000
190   0000              defc __CLIB_OPT_PRINTF_g = 0x10000000
191   0000              defc __CLIB_OPT_PRINTF_G = 0x20000000
192   0000              
193   0000              defc __CLIB_OPT_PRINTF_2 = 0x00
194   0000              
195   0000              defc __CLIB_OPT_PRINTF_2_lld = 0x01
196   0000              defc __CLIB_OPT_PRINTF_2_llu = 0x02
197   0000              defc __CLIB_OPT_PRINTF_2_llx = 0x04
198   0000              defc __CLIB_OPT_PRINTF_2_llX = 0x08
199   0000              defc __CLIB_OPT_PRINTF_2_llo = 0x10
200   0000              defc __CLIB_OPT_PRINTF_2_lli = 0x40
201   0000              
202   0000              defc __CLIB_OPT_SCANF = 0x002ff6ff
203   0000              
204   0000              defc __CLIB_OPT_SCANF_d = 0x00000001
205   0000              defc __CLIB_OPT_SCANF_u = 0x00000002
206   0000              defc __CLIB_OPT_SCANF_x = 0x00000004
207   0000              defc __CLIB_OPT_SCANF_X = 0x00000008
208   0000              defc __CLIB_OPT_SCANF_o = 0x00000010
209   0000              defc __CLIB_OPT_SCANF_n = 0x00000020
210   0000              defc __CLIB_OPT_SCANF_i = 0x00000040
211   0000              defc __CLIB_OPT_SCANF_p = 0x00000080
212   0000              defc __CLIB_OPT_SCANF_B = 0x00000100
213   0000              defc __CLIB_OPT_SCANF_s = 0x00000200
214   0000              defc __CLIB_OPT_SCANF_c = 0x00000400
215   0000              defc __CLIB_OPT_SCANF_I = 0x00000800
216   0000              defc __CLIB_OPT_SCANF_ld = 0x00001000
217   0000              defc __CLIB_OPT_SCANF_lu = 0x00002000
218   0000              defc __CLIB_OPT_SCANF_lx = 0x00004000
219   0000              defc __CLIB_OPT_SCANF_lX = 0x00008000
220   0000              defc __CLIB_OPT_SCANF_lo = 0x00010000
221   0000              defc __CLIB_OPT_SCANF_ln = 0x00020000
222   0000              defc __CLIB_OPT_SCANF_li = 0x00040000
223   0000              defc __CLIB_OPT_SCANF_lp = 0x00080000
224   0000              defc __CLIB_OPT_SCANF_lB = 0x00100000
225   0000              defc __CLIB_OPT_SCANF_BRACKET = 0x00200000
226   0000              defc __CLIB_OPT_SCANF_a = 0x00400000
227   0000              defc __CLIB_OPT_SCANF_A = 0x00800000
228   0000              defc __CLIB_OPT_SCANF_e = 0x01000000
229   0000              defc __CLIB_OPT_SCANF_E = 0x02000000
230   0000              defc __CLIB_OPT_SCANF_f = 0x04000000
231   0000              defc __CLIB_OPT_SCANF_F = 0x08000000
232   0000              defc __CLIB_OPT_SCANF_g = 0x10000000
233   0000              defc __CLIB_OPT_SCANF_G = 0x20000000
234   0000              
235   0000              defc __CLIB_OPT_SCANF_2 = 0x00
236   0000              
237   0000              defc __CLIB_OPT_SCANF_2_lld = 0x01
238   0000              defc __CLIB_OPT_SCANF_2_llu = 0x02
239   0000              defc __CLIB_OPT_SCANF_2_llx = 0x04
240   0000              defc __CLIB_OPT_SCANF_2_llX = 0x08
241   0000              defc __CLIB_OPT_SCANF_2_llo = 0x10
242   0000              defc __CLIB_OPT_SCANF_2_lli = 0x40
243   0000              
244   0000              defc __CLIB_OPT_UNROLL = 0x00
245   0000              
246   0000              defc __CLIB_OPT_UNROLL_MEMCPY = 0x01
247   0000              defc __CLIB_OPT_UNROLL_MEMSET = 0x02
248   0000              defc __CLIB_OPT_UNROLL_OTIR = 0x10
249   0000              defc __CLIB_OPT_UNROLL_LDIR = 0x20
250   0000              defc __CLIB_OPT_UNROLL_USER_SMC = 0x40
251   0000              defc __CLIB_OPT_UNROLL_LIB_SMC = 0x80
252   0000              
253   0000              defc __CLIB_OPT_STRTOD = 0x00
254   0000              
255   0000              defc __CLIB_OPT_STRTOD_NAN = 0x01
256   0000              defc __CLIB_OPT_STRTOD_INF = 0x01
257   0000              defc __CLIB_OPT_STRTOD_HEX = 0x02
258   0000              
259   0000              defc __CLIB_OPT_SORT = 1
260   0000              
261   0000              defc __CLIB_OPT_SORT_INSERTION = 0
262   0000              defc __CLIB_OPT_SORT_SHELL = 1
263   0000              defc __CLIB_OPT_SORT_QUICK = 2
264   0000              
265   0000              defc __CLIB_OPT_SORT_QSORT = 0x0c
266   0000              
267   0000              defc __CLIB_OPT_SORT_QSORT_PIVOT = 0x3
268   0000              defc __CLIB_OPT_SORT_QSORT_PIVOT_MID = 0x0
269   0000              defc __CLIB_OPT_SORT_QSORT_PIVOT_RAN = 0x1
270   0000              defc __CLIB_OPT_SORT_QSORT_ENABLE_INSERTION = 0x04
271   0000              defc __CLIB_OPT_SORT_QSORT_ENABLE_EQUAL = 0x08
272   0000              
273   0000              defc __CLIB_OPT_ERROR = 0x00
274   0000              
275   0000              defc __CLIB_OPT_ERROR_ENABLED = 0x01
276   0000              defc __CLIB_OPT_ERROR_VERBOSE = 0x02
277   0000              
278   0000              
279   0000              
280   0000              
281   0000              
282   0000              
283   0000              
284   0000              
285   0000              
286   0000              
287   0000              
288   0000              
289   0000              
290   0000              
291   0000              
292   0000              
293   0000              defc __EOK = 0
294   0000              defc __EACCES = 1
295   0000              defc __EBADF = 2
296   0000              defc __EBDFD = 3
297   0000              defc __EDOM = 4
298   0000              defc __EFBIG = 5
299   0000              defc __EINVAL = 6
300   0000              defc __EIO = 7
301   0000              defc __EMFILE = 8
302   0000              defc __ENFILE = 9
303   0000              defc __ENOLCK = 10
304   0000              defc __ENOMEM = 11
305   0000              defc __ENOTSUP = 12
306   0000              defc __EOVERFLOW = 13
307   0000              defc __ERANGE = 14
308   0000              defc __ESTAT = 15
309   0000              defc __EAGAIN = 16
310   0000              defc __EWOULDBLOCK = 16
311   0000              
312   0000              defc __ERROR_NEXT = 50
313   0000              
314   0000              defc STDIO_SEEK_SET = 0
315   0000              defc STDIO_SEEK_CUR = 1
316   0000              defc STDIO_SEEK_END = 2
317   0000              
318   0000              defc STDIO_MSG_PUTC = 1
319   0000              defc STDIO_MSG_WRIT = 2
320   0000              defc STDIO_MSG_GETC = 3
321   0000              defc STDIO_MSG_EATC = 4
322   0000              defc STDIO_MSG_READ = 5
323   0000              defc STDIO_MSG_SEEK = 6
324   0000              defc STDIO_MSG_ICTL = 7
325   0000              defc STDIO_MSG_FLSH = 8
326   0000              defc STDIO_MSG_CLOS = 9
327   0000              
328   0000              defc ITERM_MSG_GETC = 15
329   0000              defc ITERM_MSG_REJECT = 16
330   0000              defc ITERM_MSG_INTERRUPT = 17
331   0000              defc ITERM_MSG_PUTC = 18
332   0000              defc ITERM_MSG_PRINT_CURSOR = 19
333   0000              defc ITERM_MSG_ERASE_CURSOR = 20
334   0000              defc ITERM_MSG_ERASE_CURSOR_PWD = 21
335   0000              defc ITERM_MSG_BS = 22
336   0000              defc ITERM_MSG_BS_PWD = 23
337   0000              defc ITERM_MSG_READLINE_BEGIN = 24
338   0000              defc ITERM_MSG_READLINE_END = 25
339   0000              defc ITERM_MSG_READLINE_SCROLL_LIMIT = 26
340   0000              defc ITERM_MSG_BELL = 27
341   0000              
342   0000              defc __MESSAGE_ITERM_NEXT__ = 28
343   0000              
344   0000              defc OTERM_MSG_PUTC = 30
345   0000              defc OTERM_MSG_TTY = 31
346   0000              defc OTERM_MSG_FZX_PUTC = 32
347   0000              defc OTERM_MSG_PRINTC = 33
348   0000              defc OTERM_MSG_SCROLL = 34
349   0000              defc OTERM_MSG_SCROLL_LIMIT = 35
350   0000              defc OTERM_MSG_CLS = 36
351   0000              defc OTERM_MSG_PAUSE = 37
352   0000              defc OTERM_MSG_BELL = 38
353   0000              defc OTERM_MSG_PSCROLL = 39
354   0000              defc OTERM_MSG_FZX_GET_XOR_DRAW = 40
355   0000              
356   0000              defc __MESSAGE_OTERM_NEXT__ = 41
357   0000              
358   0000              defc ICHAR_MSG_GETC = 15
359   0000              defc OCHAR_MSG_PUTC_BIN = 30
360   0000              defc OCHAR_MSG_PUTC = 33
361   0000              
362   0000              defc __MESSAGE_NEXT__ = 45
363   0000              
364   0000              defc mtx_plain = 0x01
365   0000              defc mtx_recursive = 0x02
366   0000              defc mtx_timed = 0x04
367   0000              
368   0000              defc thrd_success = 0x00
369   0000              defc thrd_error = 0x01
370   0000              defc thrd_nomem = 0x02
371   0000              defc thrd_busy = 0x04
372   0000              defc thrd_timedout = 0x08
373   0000              
374   0000              defc IOCTL_RESET = 0x0000
375   0000              
376   0000              defc IOCTL_ITERM_ECHO = 0xc081
377   0000              defc IOCTL_ITERM_PASS = 0xc041
378   0000              defc IOCTL_ITERM_LINE = 0xc021
379   0000              defc IOCTL_ITERM_COOK = 0xc011
380   0000              defc IOCTL_ITERM_CAPS = 0xc009
381   0000              defc IOCTL_ITERM_CRLF = 0xc101
382   0000              defc IOCTL_ITERM_CURS = 0xc201
383   0000              
384   0000              defc IOCTL_ITERM_TIE = 0x0201
385   0000              defc IOCTL_ITERM_GET_EDITBUF = 0x0381
386   0000              defc IOCTL_ITERM_SET_EDITBUF = 0x0301
387   0000              
388   0000              defc IOCTL_OTERM_PAGE = 0xc082
389   0000              defc IOCTL_OTERM_PAUSE = 0xc042
390   0000              defc IOCTL_OTERM_COOK = 0xc022
391   0000              defc IOCTL_OTERM_CRLF = 0xc012
392   0000              defc IOCTL_OTERM_CLEAR = 0xe002
393   0000              defc IOCTL_OTERM_SIGNAL = 0xc202
394   0000              defc IOCTL_OTERM_BELL = 0xc102
395   0000              
396   0000              defc IOCTL_OTERM_CLS = 0x0102
397   0000              defc IOCTL_OTERM_RESET_SCROLL = 0x0202
398   0000              defc IOCTL_OTERM_GET_WINDOW_COORD = 0x0382
399   0000              defc IOCTL_OTERM_SET_WINDOW_COORD = 0x0302
400   0000              defc IOCTL_OTERM_GET_WINDOW_RECT = 0x0482
401   0000              defc IOCTL_OTERM_SET_WINDOW_RECT = 0x0402
402   0000              defc IOCTL_OTERM_GET_CURSOR_COORD = 0x0582
403   0000              defc IOCTL_OTERM_SET_CURSOR_COORD = 0x0502
404   0000              defc IOCTL_OTERM_GET_OTERM = 0x0602
405   0000              defc IOCTL_OTERM_SCROLL = 0x0702
406   0000              defc IOCTL_OTERM_FONT = 0x0802
407   0000              defc IOCTL_OTERM_SCROLL_LIMIT = 0x0902
408   0000              
409   0000              defc IOCTL_OTERM_FZX_GET_PAPER_COORD = 0x0a82
410   0000              defc IOCTL_OTERM_FZX_SET_PAPER_COORD = 0x0a02
411   0000              defc IOCTL_OTERM_FZX_GET_PAPER_RECT = 0x0b82
412   0000              defc IOCTL_OTERM_FZX_SET_PAPER_RECT = 0x0b02
413   0000              defc IOCTL_OTERM_FZX_LEFT_MARGIN = 0x0c02
414   0000              defc IOCTL_OTERM_FZX_LINE_SPACING = 0x0d02
415   0000              defc IOCTL_OTERM_FZX_SPACE_EXPAND = 0x0e02
416   0000              defc IOCTL_OTERM_FZX_GET_FZX_STATE = 0x0f82
417   0000              defc IOCTL_OTERM_FZX_SET_FZX_STATE = 0x0f02
418   0000              
419   0000              defc IOCTL_ICHAR_CRLF = 0xc103
420   0000              
421   0000              defc IOCTL_OCHAR_CRLF = 0xc014
422   0000              
423   0000              
424   0000              
425   0000              
426   0000              
427   0000              
428   0000              
429   0000              
430   0000              
431   0000              
432   0000              
433   0000              
434   0000              
435   0000              
436   0000              
437   0000              
438   0000              
439   0000              
440   0000              
441   0000              
442   0000              
443   0000              
444   0000              
445   0000              
446   0000              
447   0000              
448   0000              
449   0000              
450   0000              
451   0000              
452   0000              defc __IO_ACIA_CONTROL_REGISTER   = 0x80
453   0000              defc __IO_ACIA_STATUS_REGISTER = 0x80
454   0000              defc __IO_ACIA_DATA_REGISTER   = 0x81
455   0000              
456   0000              defc __IO_ACIA_CR_CLK_DIV_01  = 0x00
457   0000              defc __IO_ACIA_CR_CLK_DIV_16  = 0x01
458   0000              defc __IO_ACIA_CR_CLK_DIV_64  = 0x02
459   0000              defc __IO_ACIA_CR_RESET       = 0x03
460   0000              
461   0000              defc __IO_ACIA_CR_7E2         = 0x00
462   0000              defc __IO_ACIA_CR_7O2         = 0x04
463   0000              defc __IO_ACIA_CR_7E1         = 0x08
464   0000              defc __IO_ACIA_CR_7O1         = 0x0C
465   0000              defc __IO_ACIA_CR_8N2         = 0x10
466   0000              defc __IO_ACIA_CR_8N1         = 0x14
467   0000              defc __IO_ACIA_CR_8E1         = 0x18
468   0000              defc __IO_ACIA_CR_8O1         = 0x1C
469   0000              
470   0000              defc __IO_ACIA_CR_TDI_RTS0    = 0x00
471   0000              defc __IO_ACIA_CR_TEI_RTS0    = 0x20
472   0000              defc __IO_ACIA_CR_TDI_RTS1    = 0x40
473   0000              defc __IO_ACIA_CR_TDI_BRK     = 0x60
474   0000              
475   0000              defc __IO_ACIA_CR_TEI_MASK    = 0x60
476   0000              
477   0000              defc __IO_ACIA_CR_REI         = 0x80
478   0000              
479   0000              defc __IO_ACIA_SR_RDRF        = 0x01
480   0000              defc __IO_ACIA_SR_TDRE        = 0x02
481   0000              defc __IO_ACIA_SR_DCD         = 0x04
482   0000              defc __IO_ACIA_SR_CTS         = 0x08
483   0000              defc __IO_ACIA_SR_FE          = 0x10
484   0000              defc __IO_ACIA_SR_OVRN        = 0x20
485   0000              defc __IO_ACIA_SR_PE          = 0x40
486   0000              defc __IO_ACIA_SR_IRQ         = 0x80
487   0000              
488   0000              defc __IO_ACIA_RX_SIZE     = 0x100
489   0000              defc __IO_ACIA_RX_FULLISH  = 0xf8
490   0000              defc __IO_ACIA_RX_EMPTYISH = 0x08
491   0000              defc __IO_ACIA_TX_SIZE     = 0x10
492   0000              
493   0000              
494   0000              
495   0000              
496   0000              
497   0000              
498   0000              
499   0000              
500   0000              
501   0000              
502   0000              
503   0000              
504   0000              defc __IO_SIOA_CONTROL_REGISTER   = 0x80
505   0000              defc __IO_SIOA_DATA_REGISTER      = 0x81
506   0000              defc __IO_SIOB_CONTROL_REGISTER   = 0x82
507   0000              defc __IO_SIOB_DATA_REGISTER      = 0x83
508   0000              
509   0000              defc __IO_SIO_WR0_NULL      = 0x00
510   0000              
511   0000              defc __IO_SIO_WR0_R0      = 0x00
512   0000              defc __IO_SIO_WR0_R1      = 0x01
513   0000              defc __IO_SIO_WR0_R2      = 0x02
514   0000              defc __IO_SIO_WR0_R3      = 0x03
515   0000              defc __IO_SIO_WR0_R4      = 0x04
516   0000              defc __IO_SIO_WR0_R5      = 0x05
517   0000              defc __IO_SIO_WR0_R6      = 0x06
518   0000              defc __IO_SIO_WR0_R7      = 0x07
519   0000              
520   0000              defc __IO_SIO_WR0_SDLC_ABORT      = 0x08
521   0000              defc __IO_SIO_WR0_EXT_INT_RESET      = 0x10
522   0000              defc __IO_SIO_WR0_CHANNEL_RESET      = 0x18
523   0000              defc __IO_SIO_WR0_RX_INT_FIRST_REENABLE      = 0x20
524   0000              defc __IO_SIO_WR0_TX_INT_PENDING_RESET      = 0x28
525   0000              defc __IO_SIO_WR0_ERROR_RESET      = 0x30
526   0000              defc __IO_SIO_WR0_A_INT_RETURN      = 0x38
527   0000              
528   0000              defc __IO_SIO_WR0_RX_CRC_RESET      = 0x40
529   0000              defc __IO_SIO_WR0_TX_CRC_RESET      = 0x80
530   0000              defc __IO_SIO_WR0_TX_EOM_RESET      = 0xC0
531   0000              
532   0000              defc __IO_SIO_WR1_EXT_INT_ENABLE      = 0x01
533   0000              defc __IO_SIO_WR1_TX_INT_ENABLE      = 0x02
534   0000              defc __IO_SIO_WR1_B_STATUS_VECTOR      = 0x04
535   0000              
536   0000              defc __IO_SIO_WR1_RX_INT_NONE      = 0x00
537   0000              defc __IO_SIO_WR1_RX_INT_FIRST      = 0x08
538   0000              defc __IO_SIO_WR1_RX_INT_ALL_EXCL_SPECIAL      = 0x10
539   0000              defc __IO_SIO_WR1_RX_INT_ALL      = 0x18
540   0000              
541   0000              defc __IO_SIO_WR1_WAIT_READY_RX      = 0x20
542   0000              defc __IO_SIO_WR1_WAIT_READY_READY      = 0x40
543   0000              defc __IO_SIO_WR1_WAIT_READY_ENABLE      = 0x80
544   0000              
545   0000              defc __IO_SIO_WR3_RX_ENABLE      = 0x01
546   0000              defc __IO_SIO_WR3_RX_SYNC_LOAD_INHIBIT      = 0x02
547   0000              defc __IO_SIO_WR3_SDLC_ADDRESS_SEARCH      = 0x04
548   0000              defc __IO_SIO_WR3_SDLC_RX_CRC      = 0x08
549   0000              defc __IO_SIO_WR3_HUNT_PHASE_ENABLE      = 0x10
550   0000              defc __IO_SIO_WR3_AUTO_ENABLES      = 0x20
551   0000              
552   0000              defc __IO_SIO_WR3_RX_5BIT      = 0x00
553   0000              defc __IO_SIO_WR3_RX_7BIT      = 0x40
554   0000              defc __IO_SIO_WR3_RX_6BIT      = 0x80
555   0000              defc __IO_SIO_WR3_RX_8BIT      = 0xC0
556   0000              
557   0000              defc __IO_SIO_WR4_PARITY_NONE      = 0x00
558   0000              defc __IO_SIO_WR4_PARITY_ENABLE      = 0x01
559   0000              defc __IO_SIO_WR4_PARITY_EVEN      = 0x02
560   0000              
561   0000              defc __IO_SIO_WR4_SYNC_MODE      = 0x00
562   0000              defc __IO_SIO_WR4_STOP_1      = 0x04
563   0000              defc __IO_SIO_WR4_STOP_3HALF      = 0x08
564   0000              defc __IO_SIO_WR4_STOP_2      = 0x0C
565   0000              
566   0000              defc __IO_SIO_WR4_SYNC_8BIT      = 0x00
567   0000              defc __IO_SIO_WR4_SYNC_16BIT      = 0x10
568   0000              defc __IO_SIO_WR4_SYNC_SDLC      = 0x20
569   0000              defc __IO_SIO_WR4_SYNC_EXTERN      = 0x30
570   0000              
571   0000              defc __IO_SIO_WR4_CLK_DIV_01      = 0x00
572   0000              defc __IO_SIO_WR4_CLK_DIV_16      = 0x40
573   0000              defc __IO_SIO_WR4_CLK_DIV_32      = 0x80
574   0000              defc __IO_SIO_WR4_CLK_DIV_64      = 0xC0
575   0000              
576   0000              defc __IO_SIO_WR5_TX_CRC_ENABLE      = 0x01
577   0000              defc __IO_SIO_WR5_RTS      = 0x02
578   0000              defc __IO_SIO_WR5_SDLC_CRC_16      = 0x04
579   0000              defc __IO_SIO_WR5_TX_ENABLE      = 0x08
580   0000              defc __IO_SIO_WR5_TX_BREAK      = 0x10
581   0000              
582   0000              defc __IO_SIO_WR5_TX_5BIT      = 0x00
583   0000              defc __IO_SIO_WR5_TX_7BIT      = 0x20
584   0000              defc __IO_SIO_WR5_TX_6BIT      = 0x40
585   0000              defc __IO_SIO_WR5_TX_8BIT      = 0x60
586   0000              
587   0000              defc __IO_SIO_WR5_TX_DTR      = 0x80
588   0000              
589   0000              defc __IO_SIO_RR0_RX_CHAR      = 0x01
590   0000              defc __IO_SIO_RR0_A_INT_PENDING      = 0x02
591   0000              defc __IO_SIO_RR0_TX_EMPTY      = 0x04
592   0000              defc __IO_SIO_RR0_DCD      = 0x08
593   0000              defc __IO_SIO_RR0_SYNC      = 0x10
594   0000              defc __IO_SIO_RR0_CTS      = 0x20
595   0000              defc __IO_SIO_RR0_TX_EOM      = 0x40
596   0000              defc __IO_SIO_RR0_RX_BREAK      = 0x80
597   0000              
598   0000              defc __IO_SIO_RR1_TX_ALL_SENT      = 0x01
599   0000              
600   0000              defc __IO_SIO_RR1_SDLC_RESIDUE_CODE_0      = 0x02
601   0000              defc __IO_SIO_RR1_SDLC_RESIDUE_CODE_1      = 0x04
602   0000              defc __IO_SIO_RR1_SDLC_RESIDUE_CODE_2      = 0x08
603   0000              
604   0000              defc __IO_SIO_RR1_RX_PARITY_ERROR      = 0x10
605   0000              defc __IO_SIO_RR1_RX_OVERRUN      = 0x20
606   0000              defc __IO_SIO_RR1_RX_FRAMING_ERROR      = 0x40
607   0000              defc __IO_SIO_RR1_SDLC_EOF      = 0x80
608   0000              
609   0000              defc __IO_SIO_RX_SIZE      = 0x100
610   0000              defc __IO_SIO_RX_FULLISH      = 0xf8
611   0000              defc __IO_SIO_RX_EMPTYISH      = 0x08
612   0000              defc __IO_SIO_TX_SIZE      = 0x10
613   0000              
614   0000              
615   0000              
616   0000              
617   0000              
618   0000              
619   0000              
620   0000              
621   0000              
622   0000              
623   0000              
624   0000              
625   0000              defc __IO_PIO_PORT_A = 0x20
626   0000              defc __IO_PIO_PORT_B = 0x21
627   0000              defc __IO_PIO_PORT_C = 0x22
628   0000              defc __IO_PIO_CONTROL = 0x23
629   0000              
630   0000              defc __IO_PIO_CNTL_00 = 0x80
631   0000              defc __IO_PIO_CNTL_01 = 0x81
632   0000              defc __IO_PIO_CNTL_02 = 0x82
633   0000              defc __IO_PIO_CNTL_03 = 0x83
634   0000              
635   0000              defc __IO_PIO_CNTL_04 = 0x88
636   0000              defc __IO_PIO_CNTL_05 = 0x89
637   0000              defc __IO_PIO_CNTL_06 = 0x8A
638   0000              defc __IO_PIO_CNTL_07 = 0x8B
639   0000              
640   0000              defc __IO_PIO_CNTL_08 = 0x90
641   0000              defc __IO_PIO_CNTL_09 = 0x91
642   0000              defc __IO_PIO_CNTL_10 = 0x92
643   0000              defc __IO_PIO_CNTL_11 = 0x83
644   0000              
645   0000              defc __IO_PIO_CNTL_12 = 0x98
646   0000              defc __IO_PIO_CNTL_13 = 0x99
647   0000              defc __IO_PIO_CNTL_14 = 0x9A
648   0000              defc __IO_PIO_CNTL_15 = 0x9B
649   0000              
650   0000              
651   0000              
652   0000              
653   0000              
654   0000              
655   0000              
656   0000              
657   0000              
658   0000              
659   0000              
660   0000              
661   0000              defc __IO_PIO_IDE_LSB = 0x20
662   0000              defc __IO_PIO_IDE_MSB = 0x21
663   0000              defc __IO_PIO_IDE_CTL = 0x22
664   0000              defc __IO_PIO_IDE_CONFIG = 0x23
665   0000              defc __IO_PIO_IDE_RD = 0x92
666   0000              defc __IO_PIO_IDE_WR = 0x80
667   0000              
668   0000              defc __IO_IDE_A0_LINE = 0x01
669   0000              defc __IO_IDE_A1_LINE = 0x02
670   0000              defc __IO_IDE_A2_LINE = 0x04
671   0000              defc __IO_IDE_CS0_LINE = 0x08
672   0000              defc __IO_IDE_CS1_LINE = 0x10
673   0000              defc __IO_IDE_WR_LINE = 0x20
674   0000              defc __IO_IDE_RD_LINE = 0x40
675   0000              defc __IO_IDE_RST_LINE = 0x80
676   0000              
677   0000              defc __IO_IDE_DATA = 0x08
678   0000              defc __IO_IDE_ERROR = 0x9
679   0000              defc __IO_IDE_SEC_CNT = 0xa
680   0000              defc __IO_IDE_SECTOR = 0xb
681   0000              defc __IO_IDE_CYL_LSB = 0xc
682   0000              defc __IO_IDE_CYL_MSB = 0xd
683   0000              defc __IO_IDE_HEAD = 0xe
684   0000              defc __IO_IDE_COMMAND = 0xf
685   0000              defc __IO_IDE_STATUS = 0xf
686   0000              
687   0000              defc __IO_IDE_CONTROL = 0x16
688   0000              defc __IO_IDE_ALT_STATUS = 0x16
689   0000              
690   0000              defc __IO_IDE_LBA0 = 0xb
691   0000              defc __IO_IDE_LBA1 = 0xc
692   0000              defc __IO_IDE_LBA2 = 0xd
693   0000              defc __IO_IDE_LBA3 = 0xe
694   0000              
695   0000              defc __IDE_CMD_READ = 0x20
696   0000              defc __IDE_CMD_WRITE = 0x30
697   0000              
698   0000              defc __IDE_CMD_STANDBY = 0xE0
699   0000              defc __IDE_CMD_IDLE = 0xE1
700   0000              defc __IDE_CMD_SLEEP = 0xE6
701   0000              defc __IDE_CMD_CACHE_FLUSH = 0xE7
702   0000              defc __IDE_CMD_ID = 0xEC
703   0000              
704   0000              
705   0000              
706   0000              
707   0000              
708   0000              
709   0000              
710   0000              
711   0000              
712   0000              
713   0000              
714   0000              
715   0000              
716   0000              defc __IO_LUT_OPERAND_LATCH  = 0x40
717   0000              defc __IO_LUT_RESULT_MSB  = 0x41
718   0000              defc __IO_LUT_RESULT_LSB  = 0x40
719   0000              
720   0000              defc __IO_LUT_MODULE_AVAILABLE  = 0x01
721   0000              
722   0000              
723   0000              
724   0000              
725   0000              
726   0000              
727   0000              
728   0000              
729   0000              
730   0000              
731   0000              
732   0000              
733   0000              
734   0000              defc __BF_CIO = 0x00
735   0000              defc __BF_CIOIN = 0x0
736   0000              defc __BF_CIOOUT = 0x1
737   0000              defc __BF_CIOIST = 0x2
738   0000              defc __BF_CIOOST = 0x3
739   0000              defc __BF_CIOINIT = 0x4
740   0000              defc __BF_CIOQUERY = 0x5
741   0000              defc __BF_CIODEVICE = 0x6
742   0000              
743   0000              defc __BF_DIO = 0x10
744   0000              defc __BF_DIOSTATUS = 0x10
745   0000              defc __BF_DIORESET = 0x11
746   0000              defc __BF_DIOSEEK = 0x12
747   0000              defc __BF_DIOREAD = 0x13
748   0000              defc __BF_DIOWRITE = 0x14
749   0000              defc __BF_DIOVERIFY = 0x15
750   0000              defc __BF_DIOFORMAT = 0x16
751   0000              defc __BF_DIODEVICE = 0x17
752   0000              defc __BF_DIOMEDIA = 0x18
753   0000              defc __BF_DIODEFMED = 0x19
754   0000              defc __BF_DIOCAP = 0x1a
755   0000              defc __BF_DIOGEOM = 0x1b
756   0000              
757   0000              defc __BF_RTC = 0x20
758   0000              defc __BF_RTCGETTIM = 0x20
759   0000              defc __BF_RTCSETTIM = 0x21
760   0000              defc __BF_RTCGETBYT = 0x22
761   0000              defc __BF_RTCSETBYT = 0x23
762   0000              defc __BF_RTCGETBLK = 0x24
763   0000              defc __BF_RTCSETBLK = 0x25
764   0000              
765   0000              defc __BF_EMU = 0x30
766   0000              
767   0000              defc __BF_VDA = 0x40
768   0000              defc __BF_VDAINI = 0x40
769   0000              defc __BF_VDAQRY = 0x41
770   0000              defc __BF_VDARES = 0x42
771   0000              defc __BF_VDADEV = 0x43
772   0000              defc __BF_VDASCS = 0x44
773   0000              defc __BF_VDASCP = 0x45
774   0000              defc __BF_VDASAT = 0x46
775   0000              defc __BF_VDASCO = 0x47
776   0000              defc __BF_VDAWRC = 0x48
777   0000              defc __BF_VDAFIL = 0x49
778   0000              defc __BF_VDACPY = 0x4a
779   0000              defc __BF_VDASCR = 0x4b
780   0000              defc __BF_VDAKST = 0x4c
781   0000              defc __BF_VDAKFL = 0x4d
782   0000              defc __BF_VDAKRD = 0x4e
783   0000              
784   0000              defc __BF_SYS = 0xF0
785   0000              defc __BF_SYSRESET = 0xf0
786   0000              defc __BF_SYSVER = 0xf1
787   0000              defc __BF_SYSSETBNK = 0xf2
788   0000              defc __BF_SYSGETBNK = 0xf3
789   0000              defc __BF_SYSSETCPY = 0xf4
790   0000              defc __BF_SYSBNKCPY = 0xf5
791   0000              defc __BF_SYSALLOC = 0xf6
792   0000              defc __BF_SYSFREE = 0xf7
793   0000              defc __BF_SYSGET = 0xf8
794   0000              defc __BF_SYSSET = 0xf9
795   0000              defc __BF_SYSPEEK = 0xfa
796   0000              defc __BF_SYSPOKE = 0xfb
797   0000              defc __BF_SYSINT = 0xfc
798   0000              
799   0000              defc __BF_SYSGET_CIOCNT = 0x00
800   0000              defc __BF_SYSGET_DIOCNT = 0x10
801   0000              defc __BF_SYSGET_VDACNT = 0x40
802   0000              defc __BF_SYSGET_TIMER = 0xD0
803   0000              defc __BF_SYSGET_SECS = 0xD1
804   0000              defc __BF_SYSGET_BOOTINFO = 0xE0
805   0000              defc __BF_SYSGET_CPUINFO = 0xF0
806   0000              defc __BF_SYSGET_MEMINFO = 0xF1
807   0000              defc __BF_SYSGET_BNKINFO = 0xF2
808   0000              
809   0000              defc __BF_SYSSET_TIMER = 0xD0
810   0000              defc __BF_SYSSET_SECS = 0xD1
811   0000              defc __BF_SYSSET_BOOTINFO = 0xE0
812   0000              
813   0000              defc __BF_SYSINT_INFO = 0x00
814   0000              defc __BF_SYSINT_GET = 0x10
815   0000              defc __BF_SYSINT_SET = 0x20
816   0000              
817   0000              defc __CIODEV_UART = 0x00
818   0000              defc __CIODEV_ASCI = 0x10
819   0000              defc __CIODEV_TERM = 0x20
820   0000              defc __CIODEV_PRPCON = 0x30
821   0000              defc __CIODEV_PPPCON = 0x40
822   0000              defc __CIODEV_SIO = 0x50
823   0000              defc __CIODEV_ACIA = 0x60
824   0000              defc __CIODEV_PIO = 0x70
825   0000              defc __CIODEV_UF = 0x80
826   0000              defc __CIODEV_CONSOLE = 0xD0
827   0000              
828   0000              defc __DIODEV_MD = 0x00
829   0000              defc __DIODEV_FD = 0x10
830   0000              defc __DIODEV_RF = 0x20
831   0000              defc __DIODEV_IDE = 0x30
832   0000              defc __DIODEV_ATAPI = 0x40
833   0000              defc __DIODEV_PPIDE = 0x50
834   0000              defc __DIODEV_SD = 0x60
835   0000              defc __DIODEV_PRPSD = 0x70
836   0000              defc __DIODEV_PPPSD = 0x80
837   0000              defc __DIODEV_HDSK = 0x90
838   0000              
839   0000              defc __VDADEV_VDU = 0x00
840   0000              defc __VDADEV_CVDU = 0x10
841   0000              defc __VDADEV_NEC = 0x20
842   0000              defc __VDADEV_TMS = 0x30
843   0000              defc __VDADEV_VGA = 0x40
844   0000              
845   0000              defc __EMUTYP_NONE = 0x00
846   0000              defc __EMUTYP_TTY = 0x01
847   0000              defc __EMUTYP_ANSI = 0x02
848   0000              
849   0000              defc __HBX_XFCDAT = 0xffe0
850   0000              defc __HB_CURBNK = 0xffe0
851   0000              defc __HB_INVBNK = 0xffe1
852   0000              defc __HB_SRCADR = 0xffe2
853   0000              defc __HB_SRCBNK = 0xffe4
854   0000              defc __HB_DSTADR = 0xffe5
855   0000              defc __HB_DSTBNK = 0xffe7
856   0000              defc __HB_CPYLEN = 0xffe8
857   0000              
858   0000              defc __HBX_XFCFNS = 0xfff0
859   0000              defc __HB_INVOKE = 0xfff0
860   0000              defc __HB_BNKSEL = 0xfff3
861   0000              defc __HB_BNKCPY = 0xfff6
862   0000              defc __HB_BNKCALL = 0xfff9
863   0000              defc __HB_IDENT = 0xfffe
864   0000              
865   0000              
866   0000              
867   0000              
868   0000              
869   0000              
870   0000              
871   0000              
872   0000              
873   0000              
874   0000              
875   0000              
876   0000              defc __CPM_RCON = 1
877   0000              defc __CPM_WCON = 2
878   0000              defc __CPM_RRDR = 3
879   0000              defc __CPM_WPUN = 4
880   0000              defc __CPM_WLST = 5
881   0000              defc __CPM_DCIO = 6
882   0000              defc __CPM_GIOB = 7
883   0000              defc __CPM_SIOB = 8
884   0000              defc __CPM_PRST = 9
885   0000              defc __CPM_RCOB = 10
886   0000              defc __CPM_ICON = 11
887   0000              defc __CPM_VERS = 12
888   0000              defc __CPM_RDS  = 13
889   0000              defc __CPM_LGIN = 14
890   0000              defc __CPM_OPN  = 15
891   0000              defc __CPM_CLS  = 16
892   0000              defc __CPM_FFST = 17
893   0000              defc __CPM_FNXT = 18
894   0000              defc __CPM_DEL  = 19
895   0000              defc __CPM_READ = 20
896   0000              defc __CPM_WRIT = 21
897   0000              defc __CPM_MAKE = 22
898   0000              defc __CPM_REN  = 23
899   0000              defc __CPM_ILOG = 24
900   0000              defc __CPM_IDRV = 25
901   0000              defc __CPM_SDMA = 26
902   0000              defc __CPM_SUID = 32
903   0000              defc __CPM_RRAN = 33
904   0000              defc __CPM_WRAN = 34
905   0000              defc __CPM_CFS  = 35
906   0000              defc __CPM_DSEG = 51
907   0000              
908   0000              
909   0000              
910   0000              
911   0000              
912   0000              
913   0000              
914   0000              
915   0000              
916   0000              
917   0000              ENDIF
918   0000              
919   0000              
7     0000              
8     0000              SECTION code_user
9     0000              
10    0000              PUBLIC MUL8
11    0000              
12    0000              MUL8:
13    0000  69                  ld l,c                      ; 4
14    0001  0E 40               ld c,__IO_LUT_OPERAND_LATCH ; 7  operand latch address
15    0003  ED 69               out (c),l                   ; 12 operand X from L
16    0005  ED 68               in l,(c)                    ; 12 result Z LSB to L
17    0007  0C                  inc c                       ; 4  result MSB address
18    0008  ED 60               in h,(c)                    ; 12 result Z MSB to H
19    000A  C9          	    ret                         ; 10
20    000B              
